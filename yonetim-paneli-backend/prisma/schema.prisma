generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

enum UserRole {
  ADMIN
  MANAGER
  EDITOR
  VIEWER
}

model User {
  id           Int      @id @default(autoincrement())
  name         String
  email        String   @unique
  passwordHash String
  role         UserRole
  isActive     Boolean  @default(true)
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt

  activityLogs ActivityLog[]
}

model Product {
  id        Int      @id @default(autoincrement())
  name      String
  price     Float
  stock     Int
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

model ActivityLog {
  id        Int      @id @default(autoincrement())
  userId    Int?
  user      User?    @relation(fields: [userId], references: [id])
  action    String
  entity    String?
  entityId  Int?
  details   String?
  createdAt DateTime @default(now())
}

model SystemConfig {
  id          Int      @id @default(autoincrement())
  key         String   @unique
  value       String
  updatedAt   DateTime @updatedAt
  createdAt   DateTime @default(now())
}

model Member {
  id               Int      @id @default(autoincrement())
  status           String   // BEKLEME | AKTİF | İSTİFA
  registrationNo   String?  // ÜYE KAYIT NUMARASI
  nationalId       String?  @unique // TC KİMLİK NO
  firstName        String   // ADI
  lastName         String   // SOYADI
  province         String?  // ÇALIŞTIĞI İL
  district         String?  // ÇALIŞTIĞI İLÇE
  institution      String?  // ÇALIŞTIĞI KURUM
  motherName       String?  // ANNE ADI
  fatherName       String?  // BABA ADI
  birthPlace       String?  // DOĞUM YERİ
  gender           String?  // CİNSİYET
  educationStatus  String?  // ÖĞRENİM DURUMU
  phoneNumber      String?  // TELEFON NUMARASI
  registrationDate DateTime? // ÜYE KAYIT TARİHİ
  ledgerNo         String?   // KARA DEFTER NO

  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt
}



